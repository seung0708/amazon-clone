[{"/home/seung0708/amazon-clone/src/App.js":"1","/home/seung0708/amazon-clone/src/components/Header.js":"2","/home/seung0708/amazon-clone/src/index.js":"3","/home/seung0708/amazon-clone/src/reportWebVitals.js":"4","/home/seung0708/amazon-clone/src/components/Home.js":"5","/home/seung0708/amazon-clone/src/components/Product.js":"6","/home/seung0708/amazon-clone/src/components/Checkout.js":"7","/home/seung0708/amazon-clone/src/components/SubTotal.js":"8","/home/seung0708/amazon-clone/src/reducers/reducer.js":"9","/home/seung0708/amazon-clone/src/StateProvider.js":"10","/home/seung0708/amazon-clone/src/action/basketAction.js":"11","/home/seung0708/amazon-clone/src/components/CheckoutProduct.js":"12","/home/seung0708/amazon-clone/src/components/Login.js":"13","/home/seung0708/amazon-clone/src/firebase.js":"14","/home/seung0708/amazon-clone/src/reducers/rootReducer.js":"15","/home/seung0708/amazon-clone/src/reducers/authReducer.js":"16","/home/seung0708/amazon-clone/src/components/Payment.js":"17","/home/seung0708/amazon-clone/src/axios.js":"18","/home/seung0708/amazon-clone/src/components/Orders.js":"19","/home/seung0708/amazon-clone/src/components/Order.js":"20"},{"size":1703,"mtime":1610056013918,"results":"21","hashOfConfig":"22"},{"size":2666,"mtime":1610059191357,"results":"23","hashOfConfig":"22"},{"size":417,"mtime":1608507429688,"results":"24","hashOfConfig":"22"},{"size":362,"mtime":1608396383318,"results":"25","hashOfConfig":"26"},{"size":744,"mtime":1608405595030,"results":"27","hashOfConfig":"22"},{"size":1224,"mtime":1608474560676,"results":"28","hashOfConfig":"22"},{"size":1280,"mtime":1608480097243,"results":"29","hashOfConfig":"22"},{"size":1111,"mtime":1610062266703,"results":"30","hashOfConfig":"22"},{"size":1240,"mtime":1610062516723,"results":"31","hashOfConfig":"22"},{"size":472,"mtime":1608471130442,"results":"32","hashOfConfig":"22"},{"size":248,"mtime":1608428396810,"results":"33","hashOfConfig":"26"},{"size":1264,"mtime":1610059046820,"results":"34","hashOfConfig":"22"},{"size":2054,"mtime":1608478376393,"results":"35","hashOfConfig":"22"},{"size":588,"mtime":1608507508628,"results":"36","hashOfConfig":"22"},{"size":0,"mtime":1608507437768,"results":"37","hashOfConfig":"26"},{"size":0,"mtime":1608506997611,"results":"38","hashOfConfig":"26"},{"size":5243,"mtime":1610057318805,"results":"39","hashOfConfig":"22"},{"size":152,"mtime":1610055268465,"results":"40","hashOfConfig":"22"},{"size":1063,"mtime":1610058554476,"results":"41","hashOfConfig":"22"},{"size":1231,"mtime":1610059005375,"results":"42","hashOfConfig":"22"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},"xgsqr",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"jfxoez",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":5,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"46"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"/home/seung0708/amazon-clone/src/App.js",["91","92"],"import './App.css';\nimport Header  from './components/Header'\nimport Home from './components/Home'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport Checkout from './components/Checkout'\nimport Login from './components/Login'\nimport Payment from './components/Payment'\nimport { useEffect } from 'react';\nimport {auth} from './firebase'\nimport { useStateValue } from './StateProvider';\nimport {loadStripe} from \"@stripe/stripe-js\"\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport Orders from './components/Orders'\n\nconst promise = loadStripe(\n  \"pk_test_51I6SY3Gjbath9vdaLjpSfEkKJ8DihefSpGPsR7jYs8opz1dyde6iJ3VL2Ovoz2Ygj7EEfMQSUlbhHqzADAtZnM9N00ExaWlOv8\"\n)\n\nfunction App() {\n  const [{}, dispatch] = useStateValue();\n\n  useEffect(() =>{\n\n    auth.onAuthStateChanged(authUser => {\n      console.log('USER', authUser);\n\n      if (authUser) {\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    } )\n  }, [])\n\n  return (\n    <Router>\n    <div className=\"app\">\n      \n      <Switch>\n       <Router path=\"/orders\">\n         <Orders />\n       </Router>\n        <Route path=\"/login\">\n            <Login />\n        </Route>\n        <Route path=\"/checkout\">\n          <Header />\n          <Checkout />\n        </Route>\n        <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise} >\n              <Payment />\n            </Elements>\n        </Route>\n        <Route path=\"/\">\n          <Header />\n          <Home />\n        </Route>\n      </Switch>\n      \n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n",["93","94"],"/home/seung0708/amazon-clone/src/components/Header.js",[],"/home/seung0708/amazon-clone/src/index.js",[],"/home/seung0708/amazon-clone/src/reportWebVitals.js",[],"/home/seung0708/amazon-clone/src/components/Home.js",[],"/home/seung0708/amazon-clone/src/components/Product.js",["95"],"import React from 'react';\nimport { useStateValue } from '../StateProvider';\nimport '../stylesheets/Product.css'\n\nconst Product = ({id, title, image, price, rating }) => {\n    const [{basket}, dispatch] = useStateValue();\n\n    const addToBasket = () => {\n        // dispatch the item into the data layer\n        dispatch({\n          type: \"ADD_TO_BASKET\",\n          item: {\n            id: id,\n            title: title,\n            image: image,\n            price: price,\n            rating: rating,\n          },\n        });\n      };\n\n    return(\n        <div className=\"product\">\n            <div className=\"product-info\" >\n                <p>{title}</p>\n                <p className=\"product-price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"product-rating\" >\n                    {Array(rating).fill().map((_, i) => (\n                        <p>ðŸŒŸ</p>\n                    ))}\n                    \n                </div>\n            </div>\n            <div >\n                <img src=\"\" alt=\"\"/>\n            </div>\n\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\n\nexport default Product;","/home/seung0708/amazon-clone/src/components/Checkout.js",["96"],"import React from 'react';\nimport { useStateValue } from '../StateProvider';\nimport '../stylesheets/Checkout.css'\nimport CheckoutProduct from './CheckoutProduct';\nimport SubTotal from './SubTotal';\n\n\nconst Checkout = () => {\n\n    const [{basket, user}, dispatch] = useStateValue();\n\n    return (\n        <div className=\"checkout\" >\n            <div className=\"checkout-left\" >\n                <img className=\"checkout-ad\" src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\" alt=\"\" />\n                \n                <div>\n                    <h3>Hello, {user?.email}</h3>\n                    <h2 className=\"checkout-title\">Your Shopping Cart</h2>\n                        {basket.map(item => (\n                            <CheckoutProduct \n                              id={item.id}\n                              title={item.title}\n                              image={item.image}\n                              price={item.price}\n                              rating={item.rating}\n                            />\n                        ))}\n                </div>\n            </div>\n            <div className=\"checkout-right\">\n                <SubTotal />\n            </div>\n        </div>\n        \n    )\n} \n\nexport default Checkout;","/home/seung0708/amazon-clone/src/components/SubTotal.js",["97"],"import React from 'react';\nimport '../stylesheets/SubTotal.css'\nimport CurrencyFormat from \"react-currency-format\";\nimport {useStateValue } from '../StateProvider';\nimport {getBasketTotal} from '../reducers/reducer'\nimport {useHistory} from 'react-router-dom'\n\nfunction SubTotal() {\n    const history = useHistory();\n    const [{ basket }, dispatch] = useStateValue();\n  \n    return (\n       \n      <div className=\"subtotal\">\n        <CurrencyFormat\n        \n        renderText={(value) => (\n          <>\n            <p>\n          \n              Subtotal ({basket.length} items): <strong>{value}</strong>\n            </p>\n           \n            <small className=\"subtotal-gift\">\n              <input type=\"checkbox\" /> This order contains a gift\n            </small>\n          </>\n        )}\n        \n        decimalScale={2}\n        value={getBasketTotal(basket)}\n        displayType={\"text\"}\n        thousandSeparator={true}\n        prefix={\"$\"}\n     \n        />\n        \n        <button onClick={e => history.push('/payment')}>Proceed to Checkout</button>\n      </div>\n    );\n  }\n\n\nexport default SubTotal;\n","/home/seung0708/amazon-clone/src/reducers/reducer.js",[],"/home/seung0708/amazon-clone/src/StateProvider.js",[],"/home/seung0708/amazon-clone/src/action/basketAction.js",["98","99","100","101","102"],"/home/seung0708/amazon-clone/src/components/CheckoutProduct.js",["103"],"import React from 'react';\nimport '../stylesheets/CheckoutProduct.css'\nimport {useStateValue} from '../StateProvider'\n\nconst CheckoutProduct = ({id, image, title, price, rating, hidebutton}) => {\n    const [{basket}, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        dispatch({\n            type: 'REMOVE_FROM_BASKET',\n            id: id,\n            \n        })\n    }\n\n    return (\n        <div className=\"checkout-product\">\n            <img className=\"checkout-product-image\" src={image} alt=\"\"/>\n            <div className=\"checkout-product-info\">\n                <p className=\"checkout-product-title\">{title}\n                </p>\n                <p className=\"checkout-product-price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"checkout-product-rating\" >\n                    {Array(rating).fill().map((_, i) => (\n                        <p>ðŸŒŸ</p>\n                    ))\n                    }\n                </div>\n                {!hidebutton && (\n                    <button onClick={removeFromBasket}>Remove from Basket</button>\n                )}\n                \n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProduct;","/home/seung0708/amazon-clone/src/components/Login.js",[],"/home/seung0708/amazon-clone/src/firebase.js",[],"/home/seung0708/amazon-clone/src/reducers/rootReducer.js",[],"/home/seung0708/amazon-clone/src/reducers/authReducer.js",[],"/home/seung0708/amazon-clone/src/components/Payment.js",["104"],"import React, { useEffect, useState } from 'react';\nimport '../stylesheets/Payment.css'\nimport {useStateValue} from '../StateProvider'\nimport CheckoutProduct from '../components/CheckoutProduct'\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport {Link, useHistory} from 'react-router-dom'\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from '../reducers/reducer';\nimport axios from '../axios'\nimport {db} from '../firebase';\n\n\nfunction Payment() {\n    const [{basket, user}, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [processing, setProcessing] = useState(\"\");\n    const [succeeded, setSucceeded] = useState(false);\n    const [clientSecret, setClientSecret] = useState(true);\n\n    useEffect(()=> {\n        const getClientSecret = async () => {\n            const response = await axios({\n                method: 'post',\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            })\n            setClientSecret(response.data.clientSecret)\n        }\n        getClientSecret();\n    }, [basket])\n\n    console.log('the secret is', clientSecret)\n    \n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setProcessing(true);\n\n\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({paymentIntent}) => {\n            //paymentIntent = payment confirmation\n\n            db.collection('users')\n                .doc(user?.uid)\n                .collection('orders')\n                .doc(paymentIntent.id)\n                .set({\n                    basket: basket,\n                    amount: paymentIntent,\n                    created: paymentIntent.created\n                })\n\n\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n\n            dispatch({\n                type: \"EMPTY_BASKET\"\n            })\n\n            history.replaceState('/')\n        })\n    }\n    \n    const handleChange = (event) => {\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    }\n\n    return (\n        <div className=\"payment\">\n            <div className=\"payment-container\">\n                <h1>\n                    Checkout (\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\n                        )\n                </h1>\n                <div className=\"payment-section\">\n                    <div className=\"payment-title\">\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment0-address\">\n                        <p>{user?.email}</p>\n                        <p>123 React Lane</p>\n                        <p>Los Angles, CA 91755</p>\n                    </div>\n                </div>\n                <div className=\"payment-section\">\n                    <div className=\"payment-title\">\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className=\"payment-items\">\n                        {basket.map(item => (\n                            <CheckoutProduct \n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n\n                </div>\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment-details\">\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange}/>\n\n                            <div className='payment-price-container'>\n                                <CurrencyFormat \n                                    renderText={value => (\n                                        <h3>Order Total: {value}</h3>\n                                    )}\n\n                                    decimalScale={2}\n                                    value={getBasketTotal(basket)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    prefix={\"$\"}\n                                />\n                                <button disabled={processing || disabled || succeeded}>\n                                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                                </button>\n                            </div>\n                            {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                            \n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment;","/home/seung0708/amazon-clone/src/axios.js",[],"/home/seung0708/amazon-clone/src/components/Orders.js",["105","106"],"import React, {useEffect, useState} from 'react';\nimport { db } from '../firebase';\nimport { useStateValue } from '../StateProvider';\nimport '../stylesheets/Orders.css'\nimport Order from './Order'\n\nfunction Orders() {\n    const [{basket, user}, dispatch] = useStateValue();\n    const [orders, setOrders] = useState();\n\n    useEffect(() => {\n        if (user) {\n            db.collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => {\n                setOrders(snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            })\n        } else {\n            setOrders([])\n        }\n       \n\n    }, [user])\n\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className=\"orders-order\">\n                {orders?.map(order => (\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders","/home/seung0708/amazon-clone/src/components/Order.js",[],{"ruleId":"107","severity":1,"message":"108","line":20,"column":10,"nodeType":"109","messageId":"110","endLine":20,"endColumn":12},{"ruleId":"111","severity":1,"message":"112","line":39,"column":6,"nodeType":"113","endLine":39,"endColumn":8,"suggestions":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","severity":1,"message":"120","line":6,"column":13,"nodeType":"121","messageId":"122","endLine":6,"endColumn":19},{"ruleId":"119","severity":1,"message":"123","line":10,"column":28,"nodeType":"121","messageId":"122","endLine":10,"endColumn":36},{"ruleId":"119","severity":1,"message":"123","line":10,"column":24,"nodeType":"121","messageId":"122","endLine":10,"endColumn":32},{"ruleId":"124","severity":2,"message":"125","line":5,"column":17,"nodeType":"121","messageId":"126","endLine":5,"endColumn":19},{"ruleId":"124","severity":2,"message":"127","line":6,"column":20,"nodeType":"121","messageId":"126","endLine":6,"endColumn":25},{"ruleId":"124","severity":2,"message":"128","line":7,"column":20,"nodeType":"121","messageId":"126","endLine":7,"endColumn":25},{"ruleId":"124","severity":2,"message":"129","line":8,"column":20,"nodeType":"121","messageId":"126","endLine":8,"endColumn":25},{"ruleId":"124","severity":2,"message":"130","line":9,"column":21,"nodeType":"121","messageId":"126","endLine":9,"endColumn":27},{"ruleId":"119","severity":1,"message":"120","line":6,"column":13,"nodeType":"121","messageId":"122","endLine":6,"endColumn":19},{"ruleId":"119","severity":1,"message":"131","line":44,"column":15,"nodeType":"121","messageId":"122","endLine":44,"endColumn":22},{"ruleId":"119","severity":1,"message":"120","line":8,"column":13,"nodeType":"121","messageId":"122","endLine":8,"endColumn":19},{"ruleId":"119","severity":1,"message":"123","line":8,"column":28,"nodeType":"121","messageId":"122","endLine":8,"endColumn":36},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["132"],"no-native-reassign",["133"],"no-negated-in-lhs",["134"],"no-unused-vars","'basket' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-undef","'id' is not defined.","undef","'title' is not defined.","'image' is not defined.","'price' is not defined.","'rating' is not defined.","'payload' is assigned a value but never used.",{"desc":"135","fix":"136"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"137","text":"138"},[1074,1076],"[dispatch]"]